[gd_scene load_steps=16 format=4 uid="uid://8cg4bql5g6ts"]

[ext_resource type="Script" uid="uid://c4tgma1qmy76i" path="res://scripts/game/GameObjects/Triggerable/BaseTriggerable.cs" id="1_dd2wd"]
[ext_resource type="Texture2D" uid="uid://c1y1a8ulh10ok" path="res://assets/models/map/firenozzle_metal_hr_2.png" id="2_l12yw"]
[ext_resource type="Texture2D" uid="uid://c0oua18gepjum" path="res://assets/models/map/fire.jpg" id="3_ohh4p"]
[ext_resource type="Script" uid="uid://bgor4p6p43uns" path="res://scripts/game/other/Hurtbox.cs" id="4_vrwjb"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_a214j"]
resource_name = "metal_hr_2.008"
cull_mode = 2
albedo_texture = ExtResource("2_l12yw")
texture_filter = 2

[sub_resource type="ArrayMesh" id="ArrayMesh_ysl1a"]
_surfaces = [{
"aabb": AABB(-0.30568695, -0.82049525, -0.80901337, 0.7233734, 1.2978714, 1.6180344),
"format": 34896613377,
"index_count": 108,
"index_data": PackedByteArray("AAABAAIAAQADAAIABAAAAAIAAQAFAAMABAAGAAAAAQAHAAUABgAIAAAACQAIAAYACQAKAAgACAAKAAcAAQALAAcABwAMAAgABwALAAwACAANAAAACAAMAA0AAAAOAAEAAQAOAAsAAAANAA4ACwAPAAwADAAQAA0ADAAPABAADQARAA4ADQAQABEADgASAAsACwASAA8ADgARABIADwATABAAEQAUABIAEgAVAA8ADwAVABMAEgAUABUAEAATABYAEAAWABEAFgATABUAEQAWABQAFgAVABQA"),
"name": "metal_hr_2.008",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 23,
"vertex_data": PackedByteArray("hH3Qd/9/AAB5acin47AAAIHGFkAazwAACerIp///AAD//wAA/38AAPi5//8s0wAAgcYWQOQwAAACjT7n/38AAHlpyKcbTwAACerIpwAAAAD4uf//0iwAAPhkPuf/fwAAcEHIpxtPAAB6VdB3/38AAHBByKfjsAAAfCWlqZ5mAADjL7+Q/38AAHwlpalgmQAA7jeWyv9/AADFB42X/38AAMcNxML/fwAAAAAnqgltAAAAACeq9ZIAAA==")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_fpl05"]
resource_name = "firenozzle_Icosphere_002"
_surfaces = [{
"aabb": AABB(-0.30568695, -0.82049525, -0.80901337, 0.7233734, 1.2978714, 1.6180344),
"attribute_data": PackedByteArray("eZrzaBxd81mVkgAAapcLqH54//8BScWlHF3zWQFJxaUAAJheodrs+H54//9qlwuoodrs+GqXC6ja/FiO2vxYjmqXC6h5mvNoHF3zWQAAmF6sIoMCHF3zWawigwKVkgAA2vyBH9r8WI55mvNo2vyBH3ma82iVkgAAapcLqASOQHJ5mvNoQIhGlhxd81nsWOKZAUnFpdZpiW15mvNo1mmJbRxd81kEjkByAUnFpUCIRpZqlwuo7FjimQSOQHIMcih41mmJbeCBUHvWaYltIm3MiuxY4pkMcih4QIhGluCBUHsEjkByZoBii+xY4plmgGKLQIhGliJtzIoMcih40HQRhSJtzIqpdlt/ZoBii7Z76n/ggVB70HrqhCJtzIrQeuqEZoBii9B0EYXggVB7qXZbfwxyKHi2e+p/qXZbf9B66oTQdBGFtnvqfw=="),
"format": 34896613399,
"index_count": 108,
"index_data": PackedByteArray("AAABAAIAAwAEAAUABgAHAAgACQAKAAsADAANAA4ADwAQABEAEgATABQAFQAWABcAGAAZABoAGwAcAB0AHgAfACAAHgAhAB8AIgAjACQAIgAlACMAJgAnACgAJgApACcAKgArACwAKgAtACsALgAvADAALgAxAC8AMgAzADQAMgA1ADMANgA3ADgANgA5ADcAOgA7ADwAOgA9ADsAPgA/AEAAPgBBAD8AQgBDAEQAQgBFAEMARgBHAEgARgBJAEcASgBLAEwASgBNAEsATgBPAFAATgBRAE8A"),
"material": SubResource("StandardMaterial3D_a214j"),
"name": "metal_hr_2.008",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 82,
"vertex_data": PackedByteArray("hH3Qd/9/Jtl5acin47Am2YHGFkAazybZeWnIpxtPXvT4uf//0ixe9AKNPuf/f170eWnIp+Ow9uoCjT7n/3/26vi5//8s0/bqCerIpwAAIvT4uf//0iwi9HlpyKcbTyL0CerIpwAA5ep5acinG0/l6oHGFkDkMOXqgcYWQOQwitx5acinG0+K3IR90Hf/f4rceWnIp+OwHeH4uf//LNMd4QnqyKf//x3heWnIp+OwANgJ6sin//8A2IHGFkAazwDY//8AAP9/TtiBxhZA5DBO2IR90Hf/f07Y//8AAP9/ZdaEfdB3/39l1oHGFkAaz2XWeWnIpxtP5d16VdB3/3+m24R90Hf/f2rccEHIpxtPa995acin47A35PhkPuf/f4DuAo0+5/9/hOhwQcin47BH3oR90Hf/fzK+cEHIp+Ow3bx5acin47B6vHpV0Hf/f5e+Ao0+5/9/IOxwQcinG0/67HlpyKcbTzHt+GQ+5/9/6+t6VdB3/39R0HwlpalgmZvQcEHIp+OwxNDjL7+Q/3/3z3BByKfjsFv47jeWyv9/Tf/4ZD7n/3/N/XwlpalgmavxcEHIpxtP3tnjL7+Q/3/123pV0Hf/fx/dfCWlqZ5mfNf4ZD7n/3/E/3wlpameZsD+cEHIpxtPSv7uN5bK/38K/3wlpalgmT3sxw3Ewv9/Kf/uN5bK/39A9QAAJ6r1klTcfCWlqZ5m5tjFB42X/3/32eMvv5D/fz3cAAAnqgltv9nuN5bK/3/18gAAJ6oJbUHzfCWlqZ5mhfPHDcTC/3+U8uMvv5D/fw7DAAAnqvWSwsF8JaWpYJk/wMUHjZf/fyrFAAAnqvWS+esAACeqCW3568cNxML/f7PrxQeNl/9/UeyMRQaOjEUGjoxFBo5aUoChWlKAoVpSgKG2Wr2jtlq9o7ZavaMRQh+gEUIfoBFCH6A3OiuaNzormjc6K5piPxGTYj8Rk2I/EZMvXlmWL15Zli9eWZZKViyOSlYsjkpWLI4OPfSNDj30jQ499I3MP2GMzD9hjMw/YYzPH0CvWxiZb3ojHWgbJR+3xYwQoZjdHghe3tEKhY9GoNhY9WKfV1xjQVd6YzJZ2GIcxzgwl8UXLjbFjy1+x8EwAkN5gv9CLIL+QgOCBkPWgqNiMKCdX/OcY+SiIZtlXaN5MlWQwzCPi9Uv+IiKNBiWVtfmLlzY4S/U2FQwPlLaqcx9/afEdAujst8/EKGGjqhcHGyaAhQ/h5UecXXqKSazSss0LuDKry2Byjgt1MvgLq9RVGyDUPhsEk/DbX9TVWuSTHyXkkx8l7RMu5doTC2X")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_ysl1a")

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_jv2gt"]
points = PackedVector3Array(0.40051702, -0.83334124, -0.02558198, 0.3748546, -0.80758834, -0.07690684, 0.3748546, 0.0655275, -0.82184124, -0.31854126, -0.037222758, -0.07690684, 0.3748546, -0.011600554, 0.82184124, 0.19507179, 0.5021508, -0.5393132, 0.22073422, -0.49946824, 0.5135703, 0.22073422, -0.49946824, -0.5135703, -0.31854126, 0.014152363, 0.12839258, 0.24646956, 0.47639787, 0.56489515, 0.42625234, -0.80758834, 0.07690684, 0.19507179, 0.5021508, 0.5393132, -0.13875848, 0.014152363, -0.3338529, -0.23377891, 0.15653406, -0.02292299, 0.32345682, 0.014152363, 0.82184124, 0.32345682, 0.014152363, -0.82184124, 0.3748546, 0.0655275, 0.82184124, 0.24646956, 0.47639787, -0.56489515, -0.31854126, -0.037222758, 0.07690684, -0.31854126, 0.014152363, -0.12839258, 0.27213198, -0.52509046, -0.5135703, 0.42625234, -0.80758834, -0.07690684, 0.3748546, -0.80758834, 0.07690684, 0.27213198, -0.52509046, 0.5135703, 0.3748546, -0.011600554, -0.82184124, -0.13875848, 0.014152363, 0.3338529, 0.32345682, 0.24527511, 0.6932878, 0.32345682, 0.0655275, -0.82184124, 0.32345682, 0.0655275, 0.82184124, 0.32345682, 0.24527511, -0.6932878, 0.42625234, -0.7819661, -0.07690684, -0.028238753, 0.32727382, -0.023381984)

[sub_resource type="Animation" id="Animation_dd2wd"]
resource_name = "firetrap"
length = 2.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("FireParticles:emitting")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="Animation" id="Animation_l12yw"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("FireParticles:emitting")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ohh4p"]
_data = {
&"RESET": SubResource("Animation_l12yw"),
&"firetrap": SubResource("Animation_dd2wd")
}

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_2ml74"]
angle_min = -179.99998
angle_max = 180.00002
spread = 10.0
initial_velocity_min = 5.0
initial_velocity_max = 6.0
angular_velocity_min = -37.900017
angular_velocity_max = 31.569983
gravity = Vector3(0, -0.88, 0)
linear_accel_min = -2.2351742e-06
linear_accel_max = -2.2351742e-06
color = Color(0.8156863, 0.41960785, 0.2509804, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_u7le3"]
transparency = 1
blend_mode = 1
albedo_color = Color(1, 1, 1, 0.42352942)
albedo_texture = ExtResource("3_ohh4p")
emission_enabled = true
emission = Color(0.66885906, 0.2933498, 0, 1)
billboard_mode = 3
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="QuadMesh" id="QuadMesh_yn8cl"]
material = SubResource("StandardMaterial3D_u7le3")
size = Vector2(0.5, 0.5)

[sub_resource type="BoxShape3D" id="BoxShape3D_dd2wd"]
size = Vector3(3.3312683, 1, 1)

[node name="FireTrap" type="StaticBody3D" node_paths=PackedStringArray("animationPlayer")]
script = ExtResource("1_dd2wd")
animationPlayer = NodePath("AnimationPlayer")
triggerNames = Array[String](["firetrap"])
metadata/_custom_type_script = "uid://c4tgma1qmy76i"

[node name="FireTrapNozzle" type="MeshInstance3D" parent="."]
transform = Transform3D(-0.6174866, 0, 9.323789e-08, 0, 0.6174866, 0, -9.323789e-08, 0, -0.6174866, 0, 0, 0)
mesh = SubResource("ArrayMesh_fpl05")
skeleton = NodePath("")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(-0.6174866, 0, 9.323789e-08, 0, 0.6174866, 0, -9.323789e-08, 0, -0.6174866, 0, 0, 0)
shape = SubResource("ConvexPolygonShape3D_jv2gt")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_ohh4p")
}

[node name="FireParticles" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.26243293, 0, 0)
emitting = false
amount = 200
lifetime = 0.5
randomness = 0.5
process_material = SubResource("ParticleProcessMaterial_2ml74")
draw_pass_1 = SubResource("QuadMesh_yn8cl")

[node name="Hurtbox" type="Area3D" parent="."]
script = ExtResource("4_vrwjb")
damagePerTick = 20.0
hurtsInnocents = true
hurtsTraitors = true
hurtsNPCs = true
metadata/_custom_type_script = "uid://bgor4p6p43uns"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Hurtbox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.4694743, 0.04663086, 0.03012085)
shape = SubResource("BoxShape3D_dd2wd")
